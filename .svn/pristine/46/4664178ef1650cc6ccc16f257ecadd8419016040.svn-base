function [grdinfo] = fn_getgrdinfo(romsfn,lon_w,lon_e,lat_s,lat_n,skip)
%
lon_rho = ncread(romsfn,'lon_rho');
lat_rho = ncread(romsfn,'lat_rho');
mask_xi=find(lon_rho(:,1)>lon_w & lon_rho(:,1)<lon_e);
mask_eta=find(lat_rho(1,:)>lat_s & lat_rho(1,:)<lat_n);
mask_xi=mask_xi(1:skip:end);
mask_eta=mask_eta(1:skip:end);
%Set xi and eta limitation 
eta_ind = min(mask_eta);
eta_len = length(mask_eta);
xi_ind = min(mask_xi);
xi_len =length(mask_xi);
%Read some model paramters from ROMS file
grdinfo.pm = ncread(romsfn,'pm',[xi_ind eta_ind],[xi_len eta_len],[skip skip]);
grdinfo.pn = ncread(romsfn,'pn',[xi_ind eta_ind],[xi_len eta_len],[skip skip]);
grdinfo.pm =grdinfo.pm/skip;
grdinfo.pn =grdinfo.pn/skip;
grdinfo.lon_rho = ncread(romsfn,'lon_rho',[xi_ind eta_ind],[xi_len eta_len],[skip skip]);
grdinfo.lat_rho = ncread(romsfn,'lat_rho',[xi_ind eta_ind],[xi_len eta_len],[skip skip]);
grdinfo.mask_rho = ncread(romsfn,'mask_rho',[xi_ind eta_ind],[xi_len eta_len],[skip skip]);
%grdinfo.lon_u = ncread(romsfn,'lon_u',[xi_ind eta_ind-1],[xi_len eta_len]);
%grdinfo.lat_u = ncread(romsfn,'lat_u',[xi_ind eta_ind-1 ],[xi_len eta_len]);
%grdinfo.lon_v = ncread(romsfn,'lon_v',[eta_ind-1 xi_ind],[xi_len eta_len]);
%grdinfo.lat_v = ncread(romsfn,'lat_v',[eta_ind-1 xi_ind],[xi_len eta_len]);
grdinfo.h = ncread(romsfn,'h',[xi_ind eta_ind],[xi_len eta_len],[skip skip]);
grdinfo.h(grdinfo.h > 5000) = 5000;
%get grdinfo of the domain
grdinfo.eta_ind=eta_ind;
grdinfo.eta_len=eta_len;
grdinfo.xi_ind=xi_ind;
grdinfo.xi_len=xi_len;
end